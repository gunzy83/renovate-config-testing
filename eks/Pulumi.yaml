name: eks
runtime: nodejs
description: Deploy AWS EKS cluster
config:
  eks.node-group-defaults:ami_release: "1.28.8-20240506"
  eks:k8s-version: "1.28"
  eks:addons:
    - name: "kube-proxy"
      version: "v1.28.8-eksbuild.2"
      requires_capacity: false
    - name: "vpc-cni"
      version: "v1.17.1-eksbuild.1"
      requires_capacity: false
    - name: "coredns"
      version: "v1.10.1-eksbuild.11"
      requires_capacity: true
    - name: "aws-ebs-csi-driver"
      version: "v1.31.0-eksbuild.1"
      requires_capacity: true
      custom_config_json: |
        {
          "sidecars": {
            "snapshotter": {
              "forceEnable": false
            }
          }
        }
  metrics-server:chart-version: "3.11.0" # renovate: depName=kubernetes-sigs/metrics-server extractVersion=^metrics-server-helm-chart-(?<version>.+)$
  teleport:chart-version: "15.3.1" # renovate: depName=gravitational/teleport extractVersion=^v(?<version>.+)$
  sscsi-driver:chart-version: '1.3.4'
  sscsi-provider-aws:chart-version: '0.3.4'

